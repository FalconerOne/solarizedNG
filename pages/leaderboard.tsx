import { useEffect, useState } from 'react'; import { supabase } from '../lib/supabaseClient';
export default function Leaderboard(){ const [rows,setRows]=useState<any[]>([]); useEffect(()=>{ load(); },[]); async function load(){ const { data } = await supabase.from('users').select('id, full_name, total_points, extra_entries').order('total_points',{ascending:false}).limit(50); setRows(data||[]); } return (<div className="min-h-screen p-4"><div className="max-w-3xl mx-auto"><h1 className="text-2xl font-bold">Leaderboard</h1><p className="text-sm text-gray-600">Only activated users are eligible for the main draw â€” leaderboard shows top participants by points.</p><div className="mt-4 bg-white p-4 rounded shadow"><ol className="list-decimal pl-6 space-y-2">{rows.map((r,i)=>(<li key={r.id} className="flex justify-between"><div>{r.full_name||'Anonymous'} {r.extra_entries>0 && <span className="ml-2 text-xs text-amber-600">+{r.extra_entries} entries</span>}</div><div>{r.total_points} pts</div></li>))}</ol></div></div></div>); }
